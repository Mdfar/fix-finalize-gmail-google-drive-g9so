{ "nodes": [ { "parameters": { "rule": { "interval": [ { "field": "hours", "interval": 1 } ] } }, "name": "Check Every Hour", "type": "n8n-nodes-base.scheduleTrigger", "typeVersion": 1, "position": [400, 300] }, { "parameters": { "resource": "message", "operation": "getMany", "limit": 1 }, "name": "Gmail Test Connection", "type": "n8n-nodes-base.gmail", "typeVersion": 2, "position": [620, 300], "credentials": { "gmailOAuth2Api": { "id": "YOUR_CREDENTIAL_ID", "name": "Gmail OAuth2" } } }, { "parameters": { "conditions": { "boolean": [ { "value1": "={{ $node["Gmail Test Connection"].connected }}", "value2": true } ] } }, "name": "Is Connection Healthy?", "type": "n8n-nodes-base.if", "typeVersion": 1, "position": [840, 300] }, { "parameters": { "errorMessage": "OAuth Token Expired or Invalid" }, "name": "Alert Admin", "type": "n8n-nodes-base.noOp", "typeVersion": 1, "position": [1060, 420] } ], "connections": { "Check Every Hour": { "main": [ [ { "node": "Gmail Test Connection", "type": "main", "index": 0 } ] ] }, "Gmail Test Connection": { "main": [ [ { "node": "Is Connection Healthy?", "type": "main", "index": 0 } ] ] } } }